import{j as s}from"./app-B_92siTH.js";import{F as m,a as j,c as N,b as d,R as g}from"./RegularSubmitModal-CHkNkSu9.js";import{F as v}from"./FormTextarea-q5WRCSfw.js";import{L as u}from"./Label-9HOe2Atq.js";import{M as l}from"./Modal-BQ5aMmcz.js";import{N as F}from"./NameWithAvatar-Bm4x1eME.js";import{m as k,f as P,d as S}from"./GlobalFunction-6FUJEloP.js";import{c as o}from"./clsx-B-dksMZM.js";import"./Button-BfHHMwRX.js";import"./dialog-BaJksHqc.js";import"./transition-BNoqmgBa.js";import"./react-toastify.esm-Y3kEwutC.js";const W=({title:p,showModal:f,closeModal:c,data:e,formData:r,submit:b,handleChange:t,errors:n,processing:w})=>{var x,h;const a=[{value:1,label:"Accept"},{value:0,label:"Reject"}];return s.jsxs(l,{maxWidth:"1000px",show:f,onClose:c,closeable:!1,children:[s.jsxs(l.Header,{onClick:c,children:["Konfirmasi ",p]}),s.jsxs("form",{onSubmit:b,children:[s.jsx(l.Body,{children:s.jsxs("div",{className:"grid grid-cols-3 gap-4 py-5",children:[s.jsxs("div",{className:"col-span-1 flex flex-col gap-4 border-e",children:[s.jsx("h3",{className:"text-center font-bold underline text-lg",children:"Data"}),s.jsx("table",{className:"w-full text-left -mt-2",cellPadding:5,children:s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("th",{width:"20%",children:"Periode"}),s.jsx("td",{width:"3%",children:":"}),s.jsxs("td",{children:[k(e==null?void 0:e.bulan)," ",e==null?void 0:e.tahun]})]}),s.jsxs("tr",{children:[s.jsx("th",{width:"20%",children:"Pengaju"}),s.jsx("td",{width:"3%",children:":"}),s.jsx("td",{children:(x=e==null?void 0:e.user)==null?void 0:x.name})]}),s.jsxs("tr",{children:[s.jsx("th",{width:"20%",children:"Kategori"}),s.jsx("td",{width:"3%",children:":"}),s.jsx("td",{children:(h=e==null?void 0:e.kategori)==null?void 0:h.nama})]}),s.jsxs("tr",{children:[s.jsx("th",{width:"20%",children:"Judul"}),s.jsx("td",{width:"3%",children:":"}),s.jsx("td",{children:e==null?void 0:e.judul})]}),s.jsxs("tr",{children:[s.jsx("th",{width:"20%",children:"Nominal"}),s.jsx("td",{width:"3%",children:":"}),s.jsx("td",{children:e!=null&&e.nominal?P(e==null?void 0:e.nominal):"-"})]}),s.jsxs("tr",{children:[s.jsx("th",{width:"20%",children:"Tipe"}),s.jsx("td",{width:"3%",children:":"}),s.jsx("td",{children:s.jsx(u,{variant:(e==null?void 0:e.tipe)=="cash"?"info":"success",children:e==null?void 0:e.tipe})})]}),s.jsxs("tr",{children:[s.jsx("th",{width:"20%",children:"Status"}),s.jsx("td",{width:"3%",children:":"}),s.jsx("td",{children:s.jsx(u,{variant:(e==null?void 0:e.status)==0?"danger":(e==null?void 0:e.status)==1?"success":"warning",children:(e==null?void 0:e.status)==0?"reject":(e==null?void 0:e.status)==1?"accept":"waiting"})})]}),s.jsxs("tr",{children:[s.jsx("th",{width:"20%",children:"Deskripsi"}),s.jsx("td",{width:"3%",children:":"}),s.jsx("td",{children:e==null?void 0:e.deskripsi})]})]})})]}),s.jsxs("div",{className:"col-span-1 flex flex-col gap-4 border-e pe-4",children:[s.jsx("h3",{className:"text-center font-bold underline text-lg mb-1",children:"Log"}),e!=null&&e.logs?e==null?void 0:e.logs.map(i=>s.jsxs("div",{className:o(i.status==2?"border-warning":i.status==1?"border-success":"border-danger","border flex flex-col"),children:[s.jsx("div",{className:o(i.status==2?"bg-warning":i.status==1?"bg-success":"bg-danger","flex justify-center items-center w-full p-1 text-xs"),children:i.status==2?s.jsxs("span",{className:"text-white",children:[s.jsx("i",{className:"bi bi-clock me-1"})," ","Mengajukan"]}):i.status==1?s.jsxs("span",{className:"text-white",children:[s.jsx("i",{className:"bi bi-check-circle me-1"})," ","Accept"]}):s.jsxs("span",{className:"text-white",children:[s.jsx("i",{className:"bi bix-circle me-1"})," ","Reject"]})}),s.jsxs("div",{className:"border-warning p-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(F,{avatar:i.user.foto?`/images/${i.user.foto}`:i.user.foto,avatarSize:"xs",name:i.user.name,className:"text-xs"}),s.jsx("span",{className:"text-[10px] text-gray-400",children:S(i.created_at)})]}),s.jsx("p",{className:"border-t pt-2 mt-2 text-xs",children:i.pesan})]})]},i.id)):s.jsx("div",{children:"Tidak ada log"})]}),s.jsxs("div",{className:"col-span-1 flex flex-col gap-4 ",children:[s.jsx("h3",{className:"text-center font-bold underline text-lg mb-1",children:"Konfirmasi"}),s.jsxs(m,{children:[s.jsx(j,{name:"Status",htmlFor:"status",required:!0}),s.jsxs(N,{size:"sm",id:"status",name:"status",onChange:t,value:r.status,isError:n==null?void 0:n.status,required:!0,children:[s.jsx("option",{value:"",children:"Pilih Status"}),a.map(i=>s.jsx("option",{value:i.value,children:i.label},i.value))]}),s.jsx(d,{message:n==null?void 0:n.status})]}),s.jsxs(m,{children:[s.jsx(j,{name:"Pesan",htmlFor:"pesan"}),s.jsx(v,{size:"sm",id:"pesan",name:"pesan",onChange:t,defaultValue:r.pesan,placeholder:"Tulis Pesan...",isError:n==null?void 0:n.pesan,rows:"3"}),s.jsx(d,{message:n==null?void 0:n.pesan})]})]})]})}),s.jsx(l.Footer,{children:s.jsx(g,{closeModal:c,label:"Konfirmasi",disabled:w||!r.status})})]})]})};export{W as default};
