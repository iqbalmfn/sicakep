import{j as s}from"./app-UVFO0ZgA.js";import{F as j,a as d,b as a,c as o,R as v}from"./RegularSubmitModal-C1sT-BSU.js";import{F}from"./FormTextarea-CEIdF7dn.js";import{L as u}from"./Label-5h4Oivxf.js";import{M as l}from"./Modal-Cr2HN_1p.js";import{N as k}from"./NameWithAvatar--bwZYf6g.js";import{m as P,f as S,e as y}from"./GlobalFunction-ClZYWXXL.js";import{c as p}from"./clsx-B-dksMZM.js";import"./Button-F8vdd4UU.js";import"./Icon-CIUb5iLn.js";import"./dialog-B54NAuet.js";import"./transition-Dt1y6Vjt.js";import"./react-toastify.esm-BG4VbzAR.js";const G=({title:f,showModal:b,closeModal:c,data:e,formData:r,submit:w,handleChange:t,errors:n,processing:g})=>{var x,h,m;const N=[{value:1,label:"Accept"},{value:0,label:"Reject"}];return s.jsxs(l,{maxWidth:"1000px",show:b,onClose:c,closeable:!1,children:[s.jsxs(l.Header,{onClick:c,children:["Konfirmasi ",f]}),s.jsxs("form",{onSubmit:w,children:[s.jsx(l.Body,{children:s.jsxs("div",{className:"grid grid-cols-3 gap-4 py-5",children:[s.jsxs("div",{className:"col-span-1 flex flex-col gap-4 border-e",children:[s.jsx("h3",{className:"text-center font-bold underline text-lg",children:"Data"}),s.jsx("table",{className:"w-full text-left -mt-2",cellPadding:5,children:s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("th",{width:"20%",children:"Periode"}),s.jsx("td",{width:"3%",children:":"}),s.jsxs("td",{children:[P(e==null?void 0:e.bulan)," ",e==null?void 0:e.tahun]})]}),s.jsxs("tr",{children:[s.jsx("th",{width:"20%",children:"Pengaju"}),s.jsx("td",{width:"3%",children:":"}),s.jsx("td",{children:(x=e==null?void 0:e.user)==null?void 0:x.name})]}),s.jsxs("tr",{children:[s.jsx("th",{width:"20%",children:"Pemegang Anggaran"}),s.jsx("td",{width:"3%",children:":"}),s.jsx("td",{children:(h=e==null?void 0:e.pic)==null?void 0:h.name})]}),s.jsxs("tr",{children:[s.jsx("th",{width:"20%",children:"Kategori"}),s.jsx("td",{width:"3%",children:":"}),s.jsx("td",{children:(m=e==null?void 0:e.kategori)==null?void 0:m.nama})]}),s.jsxs("tr",{children:[s.jsx("th",{width:"20%",children:"Judul"}),s.jsx("td",{width:"3%",children:":"}),s.jsx("td",{children:e==null?void 0:e.judul})]}),s.jsxs("tr",{children:[s.jsx("th",{width:"20%",children:"Nominal"}),s.jsx("td",{width:"3%",children:":"}),s.jsx("td",{children:e!=null&&e.nominal?S(e==null?void 0:e.nominal):"-"})]}),s.jsxs("tr",{children:[s.jsx("th",{width:"20%",children:"Tipe"}),s.jsx("td",{width:"3%",children:":"}),s.jsx("td",{children:s.jsx(u,{variant:(e==null?void 0:e.tipe)=="cash"?"info":"success",children:e==null?void 0:e.tipe})})]}),s.jsxs("tr",{children:[s.jsx("th",{width:"20%",children:"Status"}),s.jsx("td",{width:"3%",children:":"}),s.jsx("td",{children:s.jsx(u,{variant:(e==null?void 0:e.status)==0?"danger":(e==null?void 0:e.status)==1?"success":"warning",children:(e==null?void 0:e.status)==0?"reject":(e==null?void 0:e.status)==1?"accept":"waiting"})})]}),s.jsxs("tr",{children:[s.jsx("th",{width:"20%",children:"Deskripsi"}),s.jsx("td",{width:"3%",children:":"}),s.jsx("td",{children:e==null?void 0:e.deskripsi})]})]})})]}),s.jsxs("div",{className:"col-span-1 flex flex-col gap-4 border-e pe-4",children:[s.jsx("h3",{className:"text-center font-bold underline text-lg mb-1",children:"Log"}),e!=null&&e.logs?e==null?void 0:e.logs.map(i=>s.jsxs("div",{className:p(i.status==2?"border-warning":i.status==1?"border-success":"border-danger","border flex flex-col"),children:[s.jsx("div",{className:p(i.status==2?"bg-warning":i.status==1?"bg-success":"bg-danger","flex justify-center items-center w-full p-1 text-xs"),children:i.status==2?s.jsxs("span",{className:"text-white",children:[s.jsx("i",{className:"bi bi-clock me-1"})," ","Mengajukan"]}):i.status==1?s.jsxs("span",{className:"text-white",children:[s.jsx("i",{className:"bi bi-check-circle me-1"})," ","Accept"]}):s.jsxs("span",{className:"text-white",children:[s.jsx("i",{className:"bi bix-circle me-1"})," ","Reject"]})}),s.jsxs("div",{className:"border-warning p-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(k,{avatar:i.user.foto?`/images/${i.user.foto}`:i.user.foto,avatarSize:"xs",name:i.user.name,className:"text-xs"}),s.jsx("span",{className:"text-[10px] text-gray-400",children:y(i.created_at)})]}),s.jsx("p",{className:"border-t pt-2 mt-2 text-xs",children:i.pesan})]})]},i.id)):s.jsx("div",{children:"Tidak ada log"})]}),s.jsxs("div",{className:"col-span-1 flex flex-col gap-4 ",children:[s.jsx("h3",{className:"text-center font-bold underline text-lg mb-1",children:"Konfirmasi"}),s.jsxs(j,{children:[s.jsx(d,{name:"Status",htmlFor:"status",required:!0}),s.jsxs(a,{size:"sm",id:"status",name:"status",onChange:t,value:r.status,isError:n==null?void 0:n.status,required:!0,children:[s.jsx("option",{value:"",children:"Pilih Status"}),N.map(i=>s.jsx("option",{value:i.value,children:i.label},i.value))]}),s.jsx(o,{message:n==null?void 0:n.status})]}),s.jsxs(j,{children:[s.jsx(d,{name:"Pesan",htmlFor:"pesan"}),s.jsx(F,{size:"sm",id:"pesan",name:"pesan",onChange:t,defaultValue:r.pesan,placeholder:"Tulis Pesan...",isError:n==null?void 0:n.pesan,rows:"3"}),s.jsx(o,{message:n==null?void 0:n.pesan})]})]})]})}),s.jsx(l.Footer,{children:s.jsx(v,{closeModal:c,label:"Konfirmasi",disabled:g||!r.status})})]})]})};export{G as default};
