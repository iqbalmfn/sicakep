import{y as H,W as A,r as C,j as e,Y as K}from"./app-BCYkAQV1.js";import{B as L}from"./Breadcrumbs-BmA4K-Wq.js";import{C as O,a as R,F as W,D as E,T as a,A as w,b as q}from"./GlobalHooks-Dvz1Zb-i.js";import{L as M}from"./Label-DjaFB2WS.js";import{B as F}from"./react-toastify.esm-Di3itrqL.js";import{U as I}from"./UsePageController-CZHjqCpC.js";import{A as Y,C as _}from"./ContentWrapper-DDh8mDow.js";import z from"./KategoriCreate-Dl_VBcKa.js";import{h as G}from"./GlobalFunction-g-brQ5Tw.js";import"./Button-R4OfXs8N.js";import"./clsx-B-dksMZM.js";import"./FormInput-D_kkfuhz.js";import"./RegularSubmitModal-C7UH-1ux.js";/* empty css                      */import"./transition-CVmgSARs.js";import"./Modal-BekrTkap.js";import"./dialog-C3Lp3WdX.js";const J=(o,d,t)=>{H.post(route("master.kategori.store"),o,{onError:r=>{d(r)},onSuccess:()=>{t()},preserveScroll:!1,preserveState:!0})},Q=(o,d,t)=>{H.post(route("master.kategori.update",{kategori:o.id}),{...o,_method:"PUT"},{onError:r=>{d(r)},onSuccess:()=>{t()},preserveScroll:!1,preserveState:!0})},V=(o,d)=>{const{data:t,setData:r,reset:T}=A({nama:"",jenis:"",status:1}),[u,l]=C.useState({}),[x,c]=C.useState(null),h=()=>{l({})},{mode:y,params:m,setParams:D,fetching:j,request:b,showModal:k,handleShowModal:g,handleEditModal:p,handleCloseModal:f,initialData:i,setFetching:S,onHandleFilter:v,onHandleOrder:n}=I(o,h,T,"master.kategori.index");C.useEffect(()=>{j&&b(m)},[m,j]),C.useEffect(()=>{i.id&&r({id:i.id,nama:i.nama,jenis:i.jenis,status:i.status})},[i]);const B=s=>{r(s.target.name,s.target.type==="file"?s.target.files[0]:s.target.value)},N=s=>{s.target.checked?r(s.target.name,1):r(s.target.name,0)},P=s=>{s.preventDefault(),c(F.loading("Sedang menyimpan data...")),J(t,l,h)},U=s=>{s.preventDefault(),c(F.loading("Sedang menyimpan data...")),Q(t,l,h)};return O(d,u,x,c,f),{data:t,processing:x,errors:u,submit:P,update:U,handleChange:B,handleCheckboxChange:N,mode:y,params:m,setParams:D,setFetching:S,onHandleFilter:v,onHandleOrder:n,showModal:k,handleShowModal:g,handleEditModal:p,handleCloseModal:f}},ue=({title:o,breadcrumbs:d,datas:t,filtered:r,flash:T})=>{const{data:u,processing:l,errors:x,submit:c,update:h,handleChange:y,handleCheckboxChange:m,setParams:D,setFetching:j,mode:b,showModal:k,onHandleFilter:g,onHandleOrder:p,handleShowModal:f,handleEditModal:i,handleCloseModal:S}=V(r,T),v=()=>t.data.length>0?t.data.map((n,B)=>e.jsxs(a.TrBody,{children:[e.jsx(a.Td,{children:B+1}),e.jsx(a.Td,{children:n.nama}),e.jsx(a.Td,{children:e.jsx(M,{variant:n.jenis=="pengeluaran"?"danger":"success",children:n.jenis})}),e.jsx(a.Td,{children:e.jsx(M,{variant:n.status==0?"danger":"success",children:n.status==0?"non aktif":"aktif"})}),e.jsxs(a.Td,{className:"text-end pe-3",children:[e.jsx(w,{variant:"info",icon:"pencil",label:"Edit",onClick:()=>i(n)}),e.jsx(w,{variant:"danger",icon:"trash",label:"Hapus",onClick:()=>G("master.kategori.destroy",n.id,"Data berhasil dihapus")})]})]},n.id)):e.jsx(q,{colSpan:5});return e.jsxs(Y,{children:[e.jsx(K,{title:o}),e.jsx(L,{title:o,breadcrumbs:d}),e.jsxs(_,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",children:[e.jsx("div",{className:"flex gap-2",children:e.jsx(R,{onClick:f})}),e.jsx(W,{onHandleFilter:g})]}),e.jsxs(E,{children:[e.jsxs(a,{children:[e.jsx(a.Thead,{children:e.jsxs(a.TrHead,{children:[e.jsx(a.Th,{width:"5",ordered:!0,onHandleOrder:p,column:"id",orderBy:r.orderBy,orderDirection:r.orderDirection,children:"no"}),e.jsx(a.Th,{width:"69",children:"Nama Kategori"}),e.jsx(a.Th,{width:"10",ordered:!0,onHandleOrder:p,column:"jenis",orderBy:r.orderBy,orderDirection:r.orderDirection,children:"jenis"}),e.jsx(a.Th,{width:"8",ordered:!0,onHandleOrder:p,column:"status",orderBy:r.orderBy,orderDirection:r.orderDirection,children:"status"}),e.jsx(a.Th,{align:"end",width:"10",children:e.jsx("span",{className:"me-3",children:"opsi"})})]})}),e.jsx(a.Tbody,{children:v()})]}),e.jsx(E.Footer,{data:t,params:r,setParams:D,setFetching:j,onChange:g})]})]}),e.jsx(z,{title:o,showModal:k,closeModal:S,mode:b,data:u,handleChange:y,handleCheckboxChange:m,errors:x,submit:c,update:h,processing:l})]})};export{ue as default};
